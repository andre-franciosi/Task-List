<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task List</title>
    <script
      src="https://kit.fontawesome.com/ba8ab100eb.js"
      crossorigin="anonymous"
    ></script>
    <script type="module">
      import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";
      import taskItem from "./components/taskItem.js";

      const app = createApp({
        data() {
          return {
            tasks: [
              {
                name: "Completed task",
                completed: true,
                id: 1,
              },
              {
                name: "In Progress task",
                completed: false,
                id: 2,
              },
            ],
          };
        },
        computed: {
          completedTasks() {
            return this.tasks.filter((task) => task.completed);
          },
          inProgressTasks() {
            return this.tasks.filter((task) => !task.completed);
          },
        },
        methods: {
          addTask() {
            let newTaskName = window.prompt("What's your new task?");
            if (newTaskName) {
              this.tasks.push({
                name: newTaskName,
                completed: false,
                id: this.tasks.length + 1,
              });
            }
          },
          deleteTask(id) {
            delete this.tasks[id - 1];
          },
        },
      });
      app.component("task-item", taskItem);
      app.mount("#app");
    </script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <section v-show="inProgressTasks.length">
        <h2>In Progress</h2>
        <ul>
          <li v-for="task in inProgressTasks" :key="task.id">
            <task-item :task="task" @delete-task="deleteTask" />
          </li>
        </ul>
      </section>

      <section v-show="completedTasks.length">
        <h2>Completed</h2>
        <ul>
          <li v-for="task in completedTasks" :key="task.id">
            <task-item :task="task" @delete-task="deleteTask" />
          </li>
        </ul>
      </section>
      <div class="button-div" @click="addTask">
        <button class="button-add">Add new Task</button>
      </div>
    </div>
  </body>
</html>
